import { useEffect, useState } from "react";
import api from "../../Utils/api";
import { useParams } from "react-router-dom";
import PrimaryLayout from "../../Component/PrimaryLayout";
import "./style.css";

export default function SingleMoviePage() {
    const {id} = useParams();
    const [item, setItem] = useState({});
    useEffect(() => {
        api.get(`movies/${id}`) 
        .then(function(response){
            setItem(response.data);
        })
        .catch(function(error){});
    }, []);
    
    return(
        <PrimaryLayout>
            <div className="container">
                <div className="hero-section flex flex-c gap-100">
                    <img className="hero-img" src={item.poster} />
                    <div className="movie-info">
                        <h1 className="hero-title">{item.title}</h1>
                        <div className="flex flex-row justify-fs gap-20">
                            <span>{item.year}</span>
                            <span>{item.runtime}</span>
                            <span>{item.rated}</span>
                        </div>
                        <p>{item.genres}</p>
                        <div className="score flex flex-row align-i-c gap-20">
                            <span className="flex flex-row align-i-c">
                                <svg aria-hidden="true" className="rkbrtb0 rkbrtb1 rkbrtb3 rkbrtba" fill="currentColor" height="48" viewBox="0 0 74 48" width="74" xmlns="http://www.w3.org/2000/svg"><path clipRule="evenodd" d="M6 12.1248C6 10.399 7.38744 9 9.09981 9H64.9002C66.6122 9 68 10.3993 68 12.1248V35.8753C68 37.601 66.6126 39 64.9002 39H9.09981C7.38781 39 6 37.6008 6 35.8753V12.1248Z" fill="#E1BE00" fillRule="evenodd"></path><path clipRule="evenodd" d="M54.1049 14.9226V20.8376C54.4818 20.4016 54.902 20.0763 55.3655 19.862C55.8292 19.6477 56.525 19.5397 57.068 19.5397C57.6936 19.5397 58.2358 19.6367 58.6955 19.8314C59.1556 20.0257 59.506 20.2983 59.7473 20.6489C59.9884 20.9997 60.1331 21.3432 60.1825 21.6792C60.2313 22.0152 60.256 22.7319 60.256 23.8298V28.9317C60.256 30.0222 60.1825 30.8338 60.0355 31.368C59.8881 31.9019 59.5429 32.3654 59 32.7574C58.4568 33.149 57.8125 33.3452 57.0655 33.3452C56.5301 33.3452 55.8375 33.2291 55.3736 32.9964C54.9097 32.7636 54.4855 32.4142 54.101 31.9484L53.8067 33.107H49.5542V14.9227L54.1049 14.9226ZM14.6312 33.1075H19.355V14.9231H14.6312V33.1075ZM27.0923 14.9226C27.2724 16.0235 27.461 17.3157 27.6585 18.7982L28.3354 23.4179L29.4294 14.9229H35.6V33.1073H31.4757L31.4607 20.8335L29.8087 33.1073H26.8618L25.1204 21.1004L25.1055 33.1073H20.9681V14.9229L27.0923 14.9226ZM40.74 14.923C43.0263 14.923 44.3418 15.028 45.1475 15.2374C45.9534 15.4465 46.5666 15.7903 46.9862 16.2689C47.4061 16.7474 47.6684 17.2802 47.7734 17.8668C47.8782 18.4537 47.9454 19.607 47.9454 21.3268V27.713C47.9454 29.343 47.8541 30.433 47.7005 30.9824C47.5466 31.5324 47.2787 31.9622 46.8966 32.2723C46.5139 32.5824 46.0419 32.7993 45.4796 32.9225C44.9171 33.0461 44.0702 33.1077 42.9386 33.1077H37.2154V14.9233L40.74 14.923ZM55.6978 28.6953C55.6978 29.5753 55.6541 30.1313 55.5668 30.3626C55.4793 30.5941 55.099 30.7105 54.8106 30.7105C54.5293 30.7105 54.3418 30.5988 54.2468 30.3748C54.1519 30.151 54.1048 29.64 54.1048 28.8411V24.0354C54.1048 23.2069 54.1465 22.6905 54.2298 22.4849C54.3132 22.2801 54.4953 22.1771 54.7763 22.1771C55.0643 22.1771 55.451 22.2941 55.5498 22.5292C55.6483 22.7643 55.6977 23.2664 55.6977 24.0348L55.6978 28.6953ZM42.987 18.196C43.1736 18.304 43.2933 18.4746 43.3453 18.7058C43.3974 18.9376 43.4239 19.4644 43.4239 20.2864V27.3364C43.4239 28.5471 43.3453 29.2883 43.1885 29.5611C43.0316 29.8343 42.6135 29.9704 41.9347 29.9704V18.0335C42.4493 18.0335 42.8003 18.0876 42.987 18.196Z" fill="black" fillRule="evenodd"></path></svg>
                                {item.imdb_rating}
                            </span>
                            <span className="flex flex-row align-i-c">
                                <svg aria-hidden="true" className="rkbrtb0 rkbrtb1 rkbrtb3 rkbrtba" fill="currentColor" height="48" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M40.9963 25.4551C40.6543 19.9723 37.866 15.8702 33.6705 13.5769C33.6943 13.7105 33.5754 13.8775 33.44 13.8184C30.6959 12.6179 26.0405 16.503 22.7873 14.4685C22.8118 15.1986 22.6692 18.7604 17.6518 18.967C17.5334 18.9718 17.4682 18.8509 17.5431 18.7652C18.2141 17.9999 18.8916 16.0623 17.9174 15.0293C15.8313 16.8986 14.6198 17.6022 10.6199 16.6738C8.0589 19.3516 6.60771 23.0167 6.89259 27.5823C7.47383 36.9024 16.2037 42.2299 24.9949 41.6813C33.7854 41.1332 41.5777 34.7752 40.9963 25.4551Z" fill="#FA320A"></path><path d="M24.975 11.3394C26.7814 10.9089 31.9772 11.2975 33.6419 13.5058C33.7418 13.6382 33.6011 13.8888 33.44 13.8185C30.6958 12.618 26.0405 16.503 22.7873 14.4686C22.8117 15.1987 22.6691 18.7605 17.6518 18.9671C17.5333 18.9719 17.4682 18.851 17.5431 18.7653C18.2141 18 18.8914 16.0623 17.9174 15.0294C15.645 17.0657 14.4131 17.7201 9.48091 16.3869C9.31949 16.3434 9.37452 16.084 9.54625 16.0185C10.4784 15.6622 12.5903 14.1019 14.5883 13.4141C14.9687 13.2833 15.3479 13.1817 15.718 13.1227C13.5181 12.9261 12.5265 12.6202 11.1272 12.8312C10.9739 12.8543 10.8697 12.6758 10.9648 12.5534C12.85 10.125 16.323 9.39163 18.4658 10.6817C17.145 9.04509 16.1104 7.73988 16.1104 7.73988L18.5619 6.34741C18.5619 6.34741 19.5747 8.61027 20.3117 10.2572C22.1353 7.56272 25.5282 7.31403 26.9618 9.22579C27.0468 9.33939 26.9579 9.50096 26.8159 9.49758C25.6492 9.46918 25.0067 10.5304 24.958 11.3375L24.975 11.3394Z" fill="#00912D"></path></svg>
                                {item.metascore}
                            </span>
                        </div>
                        <p className="plot">{item.plot}</p>
                        <p className="dwa">Directed By: <span>{item.director}</span></p>
                        <p className="dwa">Written By: <span>{item.writer}</span></p>
                        <p className="dwa">Actors: <span>{item.actors}</span></p>
                    </div>
                </div>
            </div>
        </PrimaryLayout>
    );
}